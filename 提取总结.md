# RAGENç¯å¢ƒæå–æ€»ç»“

## ğŸ“‹ ä»»åŠ¡æ¦‚è¿°

ä»RAGENæ¡†æ¶ä¸­æå–ä¸¤ä¸ªç¯å¢ƒï¼š
- **TicTacToe**ï¼ˆäº•å­—æ£‹ï¼‰ï¼šåŒäººå¯¹æˆ˜æ¸¸æˆç¯å¢ƒ
- **Undercover**ï¼ˆè°æ˜¯å§åº•ï¼‰ï¼šå¤šäººæ¨ç†æ¸¸æˆç¯å¢ƒ

è¿™ä¸¤ä¸ªç¯å¢ƒéƒ½æ¶‰åŠè°ƒç”¨å¯¹æ‰‹æ¨¡å‹ï¼Œéœ€è¦`base.py`å’Œ`env_factory.py`æ”¯æŒã€‚

---

## ğŸ“ éœ€è¦æå–çš„æ–‡ä»¶æ¸…å•

### æ ¸å¿ƒæ–‡ä»¶ï¼ˆå¿…éœ€ï¼‰

1. **åŸºç¡€ä¾èµ–**
   - `ragen/env/base.py` â†’ åŒ…å«`EnvPlayer`ç±»ï¼ˆå¯¹æ‰‹æ¨¡å‹è°ƒç”¨ï¼‰ã€åŸºç¡€ç¯å¢ƒç±»ã€å·¥å…·å‡½æ•°
   - `ragen/env/env_factory.py` â†’ åŒ…å«`create_env_player_for_config`å‡½æ•°
   - `ragen/env/api-keys.json` â†’ APIå¯†é’¥é…ç½®æ–‡ä»¶

2. **TicTacToeç¯å¢ƒ**
   - `ragen/env/tictactoe/__init__.py`
   - `ragen/env/tictactoe/env.py`
   - `ragen/env/tictactoe/config.py`

3. **Undercoverç¯å¢ƒ**
   - `ragen/env/undercover/__init__.py`
   - `ragen/env/undercover/env.py`
   - `ragen/env/undercover/config.py`
   - `ragen/env/undercover/wordlists_easy.json` âš ï¸ **å¿…éœ€æ•°æ®æ–‡ä»¶**

---

## ğŸ”§ éœ€è¦ä¿®æ”¹çš„åœ°æ–¹

### 1. è·¯å¾„ä¿®æ”¹ï¼ˆ2å¤„ï¼‰

#### base.pyï¼ˆç¬¬45è¡Œï¼‰
```python
# åŸï¼škeys = json.load(open('ragen/env/api-keys.json'))
# æ”¹ï¼šä½¿ç”¨os.pathç›¸å¯¹è·¯å¾„
```

#### undercover/env.pyï¼ˆç¬¬43è¡Œï¼‰
```python
# åŸï¼šwith open(f"ragen/env/undercover/{self.config.wordlist}", "r") as f:
# æ”¹ï¼šä½¿ç”¨os.pathç›¸å¯¹è·¯å¾„
```

### 2. å¯¼å…¥ä¿®æ”¹ï¼ˆ2å¤„ï¼‰

#### tictactoe/env.pyï¼ˆç¬¬7-8è¡Œï¼‰
```python
# åŸï¼šfrom ragen.env.base import ...
# æ”¹ï¼šfrom ..base import ...  # æˆ–æ ¹æ®æ–°ç›®å½•ç»“æ„è°ƒæ•´
```

#### undercover/env.pyï¼ˆç¬¬11-12è¡Œï¼‰
```python
# åŸï¼šfrom ragen.env.base import ...
# æ”¹ï¼šfrom ..base import ...  # æˆ–æ ¹æ®æ–°ç›®å½•ç»“æ„è°ƒæ•´
```

---

## ğŸ“‚ æ¨èçš„ç›®å½•ç»“æ„

```
extracted_envs/
â”œâ”€â”€ base.py                    # åŸºç¡€ç±»ï¼ˆä¿®æ”¹è·¯å¾„ï¼‰
â”œâ”€â”€ env_factory.py             # å·¥å‚å‡½æ•°
â”œâ”€â”€ api-keys.json              # APIå¯†é’¥ï¼ˆéœ€è¦é…ç½®ï¼‰
â”œâ”€â”€ tictactoe/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ env.py                 # ä¿®æ”¹å¯¼å…¥
â”‚   â””â”€â”€ config.py
â””â”€â”€ undercover/
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ env.py                 # ä¿®æ”¹å¯¼å…¥å’Œè·¯å¾„
    â”œâ”€â”€ config.py
    â””â”€â”€ wordlists_easy.json    # å¿…éœ€æ•°æ®æ–‡ä»¶
```

---

## âœ… ä¿®æ”¹æ£€æŸ¥æ¸…å•

### è·¯å¾„ç›¸å…³
- [ ] `base.py`ä¸­`api-keys.json`è·¯å¾„æ”¹ä¸ºç›¸å¯¹è·¯å¾„
- [ ] `undercover/env.py`ä¸­`wordlist`æ–‡ä»¶è·¯å¾„æ”¹ä¸ºç›¸å¯¹è·¯å¾„

### å¯¼å…¥ç›¸å…³
- [ ] `tictactoe/env.py`ä¸­å¯¼å…¥è¯­å¥å·²ä¿®æ”¹
- [ ] `undercover/env.py`ä¸­å¯¼å…¥è¯­å¥å·²ä¿®æ”¹
- [ ] åˆ é™¤æœªä½¿ç”¨çš„å¯¼å…¥ï¼ˆå¦‚`BaseLanguageBasedEnv`ï¼‰

### é…ç½®æ–‡ä»¶
- [ ] `api-keys.json`å·²é…ç½®çœŸå®å¯†é’¥
- [ ] `wordlists_easy.json`å·²å¤åˆ¶åˆ°`undercover/`ç›®å½•

### éªŒè¯æµ‹è¯•
- [ ] å¯ä»¥æˆåŠŸå¯¼å…¥ç¯å¢ƒç±»
- [ ] å¯ä»¥æˆåŠŸåˆ›å»ºç¯å¢ƒå®ä¾‹
- [ ] å¯ä»¥æˆåŠŸè°ƒç”¨å¯¹æ‰‹æ¨¡å‹
- [ ] ç¯å¢ƒreset/step/renderåŠŸèƒ½æ­£å¸¸

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ­¥éª¤1ï¼šå¤åˆ¶æ–‡ä»¶
```bash
mkdir -p extracted_envs/{tictactoe,undercover}
cp ragen/env/base.py extracted_envs/
cp ragen/env/env_factory.py extracted_envs/
cp ragen/env/api-keys.json extracted_envs/
cp -r ragen/env/tictactoe/* extracted_envs/tictactoe/
cp -r ragen/env/undercover/* extracted_envs/undercover/
```

### æ­¥éª¤2ï¼šä¿®æ”¹ä»£ç 
æŒ‰ç…§`ä¿®æ”¹æŒ‡å—.md`ä¸­çš„è¯´æ˜ä¿®æ”¹è·¯å¾„å’Œå¯¼å…¥ã€‚

### æ­¥éª¤3ï¼šé…ç½®å¯†é’¥
ç¼–è¾‘`extracted_envs/api-keys.json`ï¼Œå¡«å…¥çœŸå®çš„APIå¯†é’¥ã€‚

### æ­¥éª¤4ï¼šæµ‹è¯•éªŒè¯
åˆ›å»ºæµ‹è¯•è„šæœ¬éªŒè¯ç¯å¢ƒæ˜¯å¦æ­£å¸¸å·¥ä½œã€‚

---

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- **æå–æ¸…å•.md** - å®Œæ•´çš„æ–‡ä»¶æ¸…å•å’Œä¾èµ–å…³ç³»åˆ†æ
- **ä¿®æ”¹æŒ‡å—.md** - è¯¦ç»†çš„ä¿®æ”¹æ­¥éª¤å’Œä»£ç ç¤ºä¾‹

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **APIå¯†é’¥å®‰å…¨**ï¼šä¸è¦å°†åŒ…å«çœŸå®å¯†é’¥çš„æ–‡ä»¶æäº¤åˆ°Git
2. **æ¨¡å‹è·¯å¾„**ï¼šå¦‚æœä½¿ç”¨æœ¬åœ°vLLMï¼Œç¡®ä¿ç«¯å£å’Œè·¯å¾„é…ç½®æ­£ç¡®
3. **ä¾èµ–åº“**ï¼šç¡®ä¿å®‰è£…äº†`openai`ã€`numpy`ã€`gymnasium`ç­‰
4. **æ•°æ®æ–‡ä»¶**ï¼š`wordlists_easy.json`æ˜¯Undercoverç¯å¢ƒå¿…éœ€çš„

---

## ğŸ” å…³é”®åŠŸèƒ½è¯´æ˜

### EnvPlayerç±»
- **ä½ç½®**ï¼š`base.py`
- **åŠŸèƒ½**ï¼šè°ƒç”¨å¯¹æ‰‹æ¨¡å‹ï¼ˆæ”¯æŒdeepseekã€openrouterã€dmxã€æœ¬åœ°vLLMï¼‰
- **ä½¿ç”¨**ï¼šé€šè¿‡`env_factory.create_env_player_for_config(config)`åˆ›å»º

### ç¯å¢ƒé…ç½®
- **TicTacToeConfig**ï¼š`player_info`æŒ‡å®šå¯¹æ‰‹æ¨¡å‹
- **UndercoverConfig**ï¼š`player_info`æŒ‡å®šå¤šä¸ªå¯¹æ‰‹æ¨¡å‹

---

## ğŸ“ é‡åˆ°é—®é¢˜ï¼Ÿ

1. **ImportError**ï¼šæ£€æŸ¥å¯¼å…¥è·¯å¾„æ˜¯å¦æ­£ç¡®
2. **FileNotFoundError**ï¼šæ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦ä½¿ç”¨ç›¸å¯¹è·¯å¾„
3. **APIè°ƒç”¨å¤±è´¥**ï¼šæ£€æŸ¥`api-keys.json`é…ç½®å’Œç½‘ç»œè¿æ¥

å‚è€ƒ`ä¿®æ”¹æŒ‡å—.md`ä¸­çš„"å¸¸è§é—®é¢˜å¤„ç†"éƒ¨åˆ†è·å–è¯¦ç»†è§£å†³æ–¹æ¡ˆã€‚

